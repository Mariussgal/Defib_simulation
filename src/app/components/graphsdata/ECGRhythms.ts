export type RhythmType = 'sinus' | 'fibrillationVentriculaire' | 'asystole' | 'tachycardie' | 'fibrillationAtriale';

export interface ECGRhythm {
  name: string;
  data: number[];
  description: string;
}

// Rythme sinusal normal 
const sinusRhythm: number[] = [
  2,2,3,3,4,6,7,7,7,6,3,2,2,1,2,1,2,1,2,5,83,11,8,6,4,3,3,3,3,4,4,5,9,14,17,19,16,12,10,6,
  3,2,2,2,2,1,2,5,7,7,6,3,2
];


const fibrillationRhythm: number[] = [
  60.25, 58.71, 48.41, 28.84, 27.81, 26.78, 29.35, 39.65, 54.07, 64.89,
  61.28, 48.41, 39.14, 38.62, 34.5, 65.4, 66.95, 66.43, 65.92, 46.86,
  41.2, 31.93, 33.99, 56.13, 57.16, 52.53, 45.32, 39.65, 48.41, 46.86,
  49.95, 58.71, 63.34, 64.37, 53.04, 48.41, 40.17, 37.08, 41.71, 69.52,
  70.55, 28.32, 22.14, 13.39, 33.47, 54.07, 85.49, 83.94, 76.22, 59.22,
  44.29, 32.96, 25.23, 24.72, 29.35, 32.96, 42.23, 59.74, 68.49, 79.31,
  64.37, 35.53, 23.17, 19.05, 33.47, 55.1, 52.01, 37.08, 35.02, 31.93,
  33.99, 36.05, 46.86, 49.95, 46.35, 42.23, 37.59, 36.05, 33.47, 24.2,
  19.57, 10.81, 16.99, 30.38, 55.62, 66.43, 67.46, 66.95, 56.13, 14.42,
  0.51, 21.63, 39.65, 55.1, 55.62, 40.17, 42.23, 49.95, 43.26, 37.59,
  23.17, 22.14, 38.62, 66.43, 66.95, 53.04, 22.14, 23.17, 46.86, 53.56,
  56.13, 51.5, 48.41, 33.47, 50.98, 52.53, 49.95, 53.56, 53.56, 53.56,
  43.77, 37.08, 43.26, 49.44, 45.32, 45.83, 46.35, 45.83, 44.29, 42.23,
  42.23, 50.98, 57.68, 57.68, 54.59, 42.74, 34.5, 21.63, 32.44, 43.26,
  58.19, 57.68, 56.13, 43.77, 35.53, 63.34, 54.07, 27.29, 30.9, 58.19,
  54.07, 33.99, 37.59, 55.62, 55.1, 44.29, 36.05, 37.08, 56.65, 45.32,
  33.47, 42.23, 54.07, 56.65, 57.16, 58.19, 56.13, 54.07, 41.2, 48.41,
  57.68, 66.95, 67.98, 66.95, 60.25, 29.87, 13.9, 14.42, 36.56, 58.71,
  72.61, 74.67, 67.46, 55.62, 47.38, 38.11, 48.92, 56.65, 57.68, 38.62,
  54.07, 65.92, 66.43, 67.98, 63.86, 49.44, 37.59, 30.9, 33.47, 32.96
];

const tachycardieRhythm: number[] = [
  4.51, 4.74, 5.22, 7.12, 9.97, 14.24, 20.64, 32.27, 48.88, 66.44,
  77.11, 72.6, 62.88, 53.38, 46.03, 38.67, 28.95, 18.98, 11.39, 7.83,
  5.93, 4.27, 4.03, 5.22, 6.41, 9.73, 16.37, 29.18, 46.98, 65.49,
  76.88, 74.5, 64.3, 56, 49.35, 43.18, 33.69, 20.88, 10.91, 4.98,
  3.32, 1.9, 0.71, 0.47, 1.66, 4.98, 11.15, 23.73, 40.81, 60.74,
  75.93, 81.38, 74.27, 60.74, 48.16, 36.54, 25.39, 14.95, 7.36, 3.56,
  1.66, 1.42, 1.42, 2.61, 4.03, 7.36, 12.1, 20.17, 34.64, 53.86,
  70.23, 78.06, 75.21, 64.3, 54.1, 47.22, 39.15, 27.28, 14.71, 7.83,
  4.98, 4.27, 3.32, 2.37, 2.85, 4.51, 8.3, 15.42, 27.05, 43.66,
  61.69, 72.84, 73.08, 65.96, 55.52, 47.69, 42, 32.98, 21.59, 10.91,
  5.22, 3.08, 1.9, 1.9, 2.61, 4.27, 6.64, 11.15, 23.49, 39.86,
  57.18, 71.42, 73.79, 65.96, 57.66, 50.06, 43.66, 33.93, 22.54, 11.63,
  5.22, 4.27, 4.51, 3.56, 2.85, 3.08, 5.69, 10.68, 20.88, 37.96,
  56.94, 71.18, 76.88, 71.18, 60.5, 51.96, 45.32, 36.3, 24.44, 13.76,
  7.12, 3.08, 2.37, 2.37, 2.85, 4.27, 6.17, 11.15, 20.17, 33.93,
  54.33, 71.89, 79.01, 75.21, 64.54, 54.1, 47.22, 39.86, 27.76, 14.47,
  6.17, 2.61, 0.71, 0.47, 0.24, 1.19, 4.27, 9.97, 20.4, 35.12,
  52.44, 69.05, 77.59, 74.5, 64.54, 53.62, 45.79, 38.2, 27.52, 15.42,
  6.41, 2.85, 1.19, 0.95, 0.47, 1.42, 4.03, 8.3, 16.85, 32.27,
  51.96, 68.57, 77.35, 75.21, 63.59, 53.15, 46.03, 38.91, 27.52, 15.42
];

const fibrillationAtrialeRhythm: number[] = [
  46.18, 87.84, 46.7, 43.07, 50.85, 49.3, 38.92, 48.84, 45.15, 45.15,
  50.85, 47.74, 52.41, 60.19, 50.85, 50.33, 57.6, 53.45, 52.93, 53.97,
  55.01, 53.45, 56.04, 55.52, 52.93, 96.84, 53.45, 52.93, 51.89, 56.04,
  59.16, 61.75, 53.45, 50.85, 49.3, 45.15, 50.85, 49.3, 44.63, 50.85,
  45.15, 38.4, 39.84, 90.84, 44.63, 42.55, 45.66, 50.85, 49.3, 45.66,
  43.59, 90.84, 49.3, 42.55, 45.66, 50.85, 50.85, 48.26, 45.15, 77.84,
  51.89, 45.15, 50.85, 50.85, 50.33, 50.85, 45.15, 39.44, 50.33, 63.83,
  45.66, 45.66, 50.85, 52.93, 50.33, 50.33, 48.26, 47.74, 50.85, 50.33,
  50.85, 50.85, 50.85, 50.33, 50.85, 93.84, 49.3, 50.85, 53.45, 55.52,
  61.75, 66.42, 53.97, 50.85, 53.45, 53.45, 53.97, 50.33, 53.45, 53.45,
  56.04, 61.75, 53.45, 48.78, 50.85, 50.85, 49.3, 50.85, 45.66, 44.63,
  47.74, 45.66, 47.74, 47.74, 50.33, 52.93, 52.93, 50.85, 56.04, 64.35,
  57.6, 50.85, 51.37, 50.33, 47.74, 93.84, 50.85, 45.66, 49.3, 49.3,
  53.45, 48.26, 42.55, 42.55, 90.84, 49.3, 45.15, 45.66, 50.85, 53.45,
  52.93, 50.85, 46.18, 47.74, 53.45, 49.3, 53.45, 50.85, 50.33, 59.16,
  54.49, 48.26, 50.85, 50.33, 49.3, 50.85, 49.3, 50.33, 90.84, 50.85,
  50.33, 50.33, 53.45, 58.64, 52.93, 49.3, 49.3, 47.74, 12.97, 33.21,
  59.16, 64.35, 80.43, 83.55, 59.16, 50.85, 50.85, 50.33, 50.85, 47.74,
  47.74, 47.74, 47.74, 49.3, 50.33, 50.85, 49.3, 59.16, 63.83, 48.26,
  50.85, 56.04, 47.22, 73.69, 53.97, 49.3, 53.45, 59.16, 49.3, 50.85
];

const asystoleRhythm: number[] = [
  2.94, 2.8, 2.56, 2.31, 2.42, 2.45, 2.27, 2.58, 2.91, 3.32,
  3.13, 3.12, 3.04, 3.05, 2.97, 2.7, 2.24, 2.36, 1.48, 1.41,
  0.93, 1.05, 1.06, 0, 0.88, 0.48, 0.87, 0.47, 0.19, 2.94,
  2.8, 2.56, 2.31, 2.42, 2.45, 2.27, 2.58, 2.91, 3.32, 3.13,
  3.12, 3.04, 3.05, 2.97, 2.7, 2.24, 2.36, 1.48, 1.41, 0.93,
  1.05, 1.06, 0, 0.88, 0.48, 0.87, 0.47, 0.19, 2.94, 2.8,
  2.56, 2.31, 2.42, 2.45, 2.27, 2.58, 2.91, 3.32, 3.13, 3.12,
  3.04, 3.05, 2.97, 2.7, 2.24, 2.36, 1.48, 1.41, 0.93, 1.05,
  1.06, 0, 0.88, 0.48, 0.87, 0.47, 0.19, 2.94, 2.8, 2.56,
  2.31, 2.42, 2.45, 2.27, 2.58, 2.91, 3.32, 3.13, 3.12, 3.04,
  3.05, 2.97, 2.7, 2.24, 2.36, 1.48, 1.41, 0.93, 1.05, 1.06,
  0, 0.88, 0.48, 0.87, 0.47, 0.19, 2.94, 2.8, 2.56, 2.31,
  2.42, 2.45, 2.27, 2.58, 2.91, 3.32, 3.13, 3.12, 3.04, 3.05,
  2.97, 2.7, 2.24, 2.36, 1.48, 1.41, 0.93, 1.05, 1.06, 0,
  0.88, 0.48, 0.87, 0.47, 0.19, 2.94, 2.8, 2.56, 2.31, 2.42,
  2.45, 2.27, 2.58, 2.91, 3.32, 3.13, 3.12, 3.04, 3.05, 2.97,
  2.7, 2.24, 2.36, 1.48, 1.41, 0.93, 1.05, 1.06, 0, 0.88,
  0.48, 0.87, 0.47, 0.19, 2.94, 2.8, 2.56, 2.31, 2.42, 2.45,
  2.27, 2.58, 2.91, 3.32, 3.13, 3.12, 3.04, 3.05, 2.97, 2.7,
  2.24, 2.36, 1.48, 1.41, 0.93, 1.05, 1.06, 0, 0.88, 0.48
];
export const ECG_RHYTHMS: Record<RhythmType, ECGRhythm> = {
  sinus: {
    name: 'Rythme sinusal',
    data: sinusRhythm,
    description: 'Rythme cardiaque normal et régulier'
  },
  fibrillationVentriculaire: {
    name: 'Fibrillation ventriculaire',
    data: fibrillationRhythm,
    description: 'Rythme cardiaque chaotique et irrégulier'
  },
  asystole: {
    name: 'Asystolie',
    data: asystoleRhythm,
    description: 'Absence d\'activité électrique cardiaque'
  },
  tachycardie: {
    name: 'Tachycardie',
    data: tachycardieRhythm,
    description: 'Rythme cardiaque accéléré'
  },
  fibrillationAtriale: {
    name: 'Fibrillation atriale',
    data: fibrillationAtrialeRhythm,
    description: 'Rythme cardiaque accéléré et irrégulier'
  }
};


export const getRhythmData = (rhythmType: RhythmType): number[] => {
  return ECG_RHYTHMS[rhythmType].data;
};


export const getRhythmInfo = (rhythmType: RhythmType): ECGRhythm => {
  return ECG_RHYTHMS[rhythmType];
};


export const isValidRhythmType = (rhythmType: string): rhythmType is RhythmType => {
  return rhythmType in ECG_RHYTHMS;
};